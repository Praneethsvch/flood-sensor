# Maintenance Playbook for Sensor Visits

<!-- MarkdownTOC levels="2,3" autolink="true" -->

- [Detaching sensor from the mount](#detaching-sensor-from-the-mount)
	- [Uninstalling Solar Panel](#uninstalling-solar-panel)
	- [Detaching the housing](#detaching-the-housing)
- [Updating the device firmware to the latest version](#updating-the-device-firmware-to-the-latest-version)
	- [Obtaining the latest version](#obtaining-the-latest-version)
	- [Device Network secret keys](#device-network-secret-keys)
- [Identifying and Replacing damaged Hardware](#identifying-and-replacing-damaged-hardware)
	- [1. Damaged solar panel](#1-damaged-solar-panel)
	- [2. Damaged ultrasonic sensor](#2-damaged-ultrasonic-sensor)
	- [3. Damaged Antenna](#3-damaged-antenna)
	- [4. Loosely connected Antenna](#4-loosely-connected-antenna)
- [Installing signage - Missing or Damaged](#installing-signage---missing-or-damaged)
- [Adding Sensor ID stickers](#adding-sensor-id-stickers)
- [Upgrading Antennas for sensors with weak signal strength](#upgrading-antennas-for-sensors-with-weak-signal-strength)
- [Solar Panel Maintenance](#solar-panel-maintenance)
- [Re-installing the sensor](#re-installing-the-sensor)
- [Re-installing the solar panel](#re-installing-the-solar-panel)
- [Switching Sensor to operational state](#switching-sensor-to-operational-state)

<!-- /MarkdownTOC -->


This playbook details the steps for in-person maintanance visits to perform quick, reliable firmware updates and quality sensor maintenance.

## Detaching sensor from the mount

In order to detach the sensor, first solar panel, followed by the housing shall be uninstalled. 

### Uninstalling Solar Panel

The solar panel uses a struct nut with M6 hex screw to fasten the panel mount to the struct channel. Unfasten the M6 screw completely detach the panel from the struct channel.

**Note:** _If the panel is installed somewhere else other than the struct channel, this has been done to harvest maximum solar power by being in direct sunlight. Keep a note of this mounting location for re-installing after the maintenance._ 

### Detaching the housing

Unfasten the M6 screws on the either side of the housing almost halfway or when the sensor is able slide out and is completely detached from the mount.

## Updating the device firmware to the latest version

### Obtaining the latest version

The latest branch can be downloaded from the [main branch of FloodNet's flood-sensor repository](https://github.com/floodnet-nyc/flood-sensor). 

### Device Network secret keys


## Identifying and Replacing damaged Hardware

### 1. Damaged solar panel
### 2. Damaged ultrasonic sensor
### 3. Damaged Antenna
### 4. Loosely connected Antenna

## Installing signage - Missing or Damaged



## Adding Sensor ID stickers

Use latest deviceEUI from the `floodnet-live` application

## Upgrading Antennas for sensors with weak signal strength

Upgrade the previous antenna with a larger gain antenna to imporve signal strength in devices which previously weaker signal or significant packet-loss has been observed.

## Solar Panel Maintenance 

Clean the panel to clear and debris.

## Re-installing the sensor 

## Re-installing the solar panel

## Switching Sensor to operational state





